title: Switf 构造器-译文
date: 2016-03-13 18:40:05
tags:
- Swift
---

# 初始化

初始化是类、结构体或者枚举类型在被使用前的准备过程。在一个新的实例准备被使用前，这个过程为每一个存储属性设置初始值并且执行执行其它设置或者初始化工作。  

实现这个初始化过程被定义为构造器，就像一个被用来创造指定实例的特殊方法。和 Objective-C 构造器不同，Swift 的构造器不返回任何值。他们主要的确保新实例在使用前能够被正确地初始化。  

类的实例也可以实现析构器，在实例被回收前执行一些自定义的清理工作。更多信息请参考析构器一章。  

## 为存储属性设置初始值

类和结构体被创建时，必须为所有的存储属性设置初始值。存储属性不能处于一个不确定的状态。  

可以在构造器内为存储属性设置初始值，或者在属性定义时赋默认值。接下来将描述这一系列行为。

> 注意
> 当你给存储属性一个默认值，或者在构造器内给它初始值，属性的值是直接被设置的，不会触发任何属性观察器。

## 构造器

构造器在创建特定类型的新实例时被调用。最简单的形式，一个构造器就像一个无参的实例方法，用 init 关键字描述：

```
init() {
    // 执行一些初始化操作
}
```

下面的例子中定义了一个 Fahrenheit 结构体来保存华氏温度。Fahrenheit 结构体有一个叫 temperature 的 Double 类型的存储属性：

```
struct Fahrenheit {
    var temperature: Double
    init() {
        temperature = 32.0
    }
}
var f = Fahrenheit()
print("The default temperature is \(f.temperature)° Fahrenheit")
// 输出 "The default temperature is 32.0° Fahrenheit”
```

这个结构体定义了一个简单的无参构造器，init。将存储属性 temperature 设置为 32。（华氏温度下水的结冰点）。

## 默认属性值

如上所示，你可以在构造器中为存储属性设定初始值。同样，在属性声明时也可以设置一个默认的值。  

> 注意
> 如果一个属性总是获取相同的初始值，就提供一个默认值而不是在构造器内初始化。这样最终结果是一样的，不过属性声明和默认值初始化将更加紧密。这使得构造器更加简单、清晰，并且可以通过默认值的类型推断。默认值也让你更简单地领会到默认构造器和构造器继承的好处。这将在后续章节介绍。

你可以通过默认值用更简单的形式编写 Fahrenheit 结构体的 temperature 属性：

```
struct Fahrenheit {
    var temperature = 32.0
}
```

## 自定义初始化

通过输入的参数和可选参数属性类型初始化，或者在初始化期间给常量属性赋值。

### 初始化参数

